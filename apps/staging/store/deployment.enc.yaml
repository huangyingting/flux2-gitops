apiVersion: apps/v1
kind: Deployment
metadata:
    name: order-service
spec:
    replicas: 1
    selector:
        matchLabels:
            app: order-service
    template:
        metadata:
            labels:
                app: order-service
        spec:
            nodeSelector:
                kubernetes.io/os: linux
            containers:
                - name: order-service
                  image: ghcr.io/azure-samples/aks-store-demo/order-service:latest
                  ports:
                    - containerPort: 3000
                  env:
                    - name: ORDER_QUEUE_HOSTNAME
                      value: rabbitmq.rabbitmq
                    - name: ORDER_QUEUE_PORT
                      value: "5672"
                    - name: ORDER_QUEUE_USERNAME
                      value: rabbitmq
                    - name: ORDER_QUEUE_PASSWORD
                      value: P@ssw0rd
                    - name: ORDER_QUEUE_NAME
                      value: orders
                    - name: FASTIFY_ADDRESS
                      value: 0.0.0.0
                  resources:
                    requests:
                        cpu: 10m
                        memory: 50Mi
                    limits:
                        cpu: 20m
                        memory: 128Mi
            initContainers:
                - name: wait-for-rabbitmq
                  image: busybox
                  command:
                    - sh
                    - -c
                    - until nc -zv rabbitmq.rabbitmq 5672; do echo waiting for rabbitmq; sleep 2; done;
                  resources:
                    requests:
                        cpu: 10m
                        memory: 64Mi
                    limits:
                        cpu: 20m
                        memory: 128Mi
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age: []
    lastmodified: "2023-09-28T04:51:29Z"
    mac: ENC[AES256_GCM,data:CCezamTGlOnXI0SHjjZ5z31cUGY2CTQMOejwx8U5nYtkL0i/RDhEltzFccsGGp+w3Ng25AjhHBCqxgHe92UGi0vXQlGvkyMSpP8UWMy8BRZLAYbvIPPEF1wDdEqc7HSSWmMB0Wn6ska88FIJdsyEjlzvlOEboeWOsEesrYG20KU=,iv:G5HkwMsAu3zd5pM1OS7DJihdh1IEn+TwDToa/VreAfo=,tag:qk1BIIKdouMydVAe6tlNbQ==,type:str]
    pgp:
        - created_at: "2023-09-28T04:51:27Z"
          enc: |
            -----BEGIN PGP MESSAGE-----

            hQIMA38T7Az157GMARAAkuM3eJ8fR5LF9Iv3w48f1Z6MNhXFFY3DSWyytmynVDDA
            lbBNo5hDAybXQB0Lp15cmXbQ5rqOAmwNRSkTxv+wrU6ow2Mwj3N7oaDja8t7zPbI
            1VLjAaiYPaMy2ynXL82xSTEjwpy/XQ0GW3uA40X5v80oBdA3hvoUz6Xv/TOToekh
            aXn52bg7Fs4C09w8NavksQR7kEacCa0cA+pXVJKpqvbD7hsj10+JcAqikcAC/ALx
            OcI4xfayhQ7KrgtEcT1UgMLx6wSxbYqGnOVpyo09f5E8rSAYTZnODDfGq/KT+qZa
            blu8I87xALIKbA3s4Y8pvHOIaHGAe0lG2OsF9dbOoR/K3rg+sjK5m1JtwgLOln5+
            XGFFpWq4rm5Fum3ZDbn0vntry7fcqaZuP4J8YPj8nvJeQFpHVLXMqsY8w6FtS/kM
            O2K12BkEqbW4KM8pnySQ7bbY20k3EvrpemDcQi1YAK3cO5DQ/GZLLjq7IR02Dtkd
            OCOQcCQV23mAco3S+P8w7oV0Idho2yRcFQ0Mo90eVVYTb5TYdSzthL8p2Zt8vx8U
            pPjFPyusxqMU0ahQlkvCh56AMhK67I8FRs1YYkX0RR7JmYZhsXi/4Wh0on2Ot1sM
            nK1s3CnsGYJKLzQe7tqreoldzUt9TZW31moF/Uk+T8XvpcrnrNcMOHDImP+HJ1/S
            XgEoMKWOJyt7XrVZIkOL0yM30Mxo/+jItr4ElfebLuuA6YCiL+pI5QSt8T7mMd6Y
            J1iLTD6SSxbX9iAoLvng+9mI8IXn/Eju7dO64+GEwL3+nKWuYRE/3ggQmai65ow=
            =ccpD
            -----END PGP MESSAGE-----
          fp: 129994A38E40322EE2A4FA6CB59C51DA13B1BF22
    encrypted_regex: ^(host|hosts|ORDER_QUEUE_USERNAME|ORDER_QUEUE_PASSWORD|AZURE_OPENAI_DEPLOYMENT_NAME|AZURE_OPENAI_ENDPOINT|OPENAI_API_KEY)$
    version: 3.7.3
---
apiVersion: apps/v1
kind: Deployment
metadata:
    name: makeline-service
spec:
    replicas: 1
    selector:
        matchLabels:
            app: makeline-service
    template:
        metadata:
            labels:
                app: makeline-service
        spec:
            nodeSelector:
                kubernetes.io/os: linux
            containers:
                - name: makeline-service
                  image: ghcr.io/azure-samples/aks-store-demo/makeline-service:latest
                  ports:
                    - containerPort: 3001
                  env:
                    - name: ORDER_QUEUE_URI
                      value: amqp://rabbitmq.rabbitmq:5672
                    - name: ORDER_QUEUE_USERNAME
                      value: rabbitmq
                    - name: ORDER_QUEUE_PASSWORD
                      value: P@ssw0rd
                    - name: ORDER_QUEUE_NAME
                      value: orders
                    - name: ORDER_DB_URI
                      value: mongodb://mongodb.mongodb:27017
                    - name: ORDER_DB_USERNAME
                      value: store
                    - name: ORDER_DB_PASSWORD
                      value: P@ssw0rd
                    - name: ORDER_DB_NAME
                      value: orderdb
                    - name: ORDER_DB_COLLECTION_NAME
                      value: orders
                  resources:
                    requests:
                        cpu: 10m
                        memory: 64Mi
                    limits:
                        cpu: 20m
                        memory: 128Mi
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age: []
    lastmodified: "2023-09-28T04:51:29Z"
    mac: ENC[AES256_GCM,data:CCezamTGlOnXI0SHjjZ5z31cUGY2CTQMOejwx8U5nYtkL0i/RDhEltzFccsGGp+w3Ng25AjhHBCqxgHe92UGi0vXQlGvkyMSpP8UWMy8BRZLAYbvIPPEF1wDdEqc7HSSWmMB0Wn6ska88FIJdsyEjlzvlOEboeWOsEesrYG20KU=,iv:G5HkwMsAu3zd5pM1OS7DJihdh1IEn+TwDToa/VreAfo=,tag:qk1BIIKdouMydVAe6tlNbQ==,type:str]
    pgp:
        - created_at: "2023-09-28T04:51:27Z"
          enc: |
            -----BEGIN PGP MESSAGE-----

            hQIMA38T7Az157GMARAAkuM3eJ8fR5LF9Iv3w48f1Z6MNhXFFY3DSWyytmynVDDA
            lbBNo5hDAybXQB0Lp15cmXbQ5rqOAmwNRSkTxv+wrU6ow2Mwj3N7oaDja8t7zPbI
            1VLjAaiYPaMy2ynXL82xSTEjwpy/XQ0GW3uA40X5v80oBdA3hvoUz6Xv/TOToekh
            aXn52bg7Fs4C09w8NavksQR7kEacCa0cA+pXVJKpqvbD7hsj10+JcAqikcAC/ALx
            OcI4xfayhQ7KrgtEcT1UgMLx6wSxbYqGnOVpyo09f5E8rSAYTZnODDfGq/KT+qZa
            blu8I87xALIKbA3s4Y8pvHOIaHGAe0lG2OsF9dbOoR/K3rg+sjK5m1JtwgLOln5+
            XGFFpWq4rm5Fum3ZDbn0vntry7fcqaZuP4J8YPj8nvJeQFpHVLXMqsY8w6FtS/kM
            O2K12BkEqbW4KM8pnySQ7bbY20k3EvrpemDcQi1YAK3cO5DQ/GZLLjq7IR02Dtkd
            OCOQcCQV23mAco3S+P8w7oV0Idho2yRcFQ0Mo90eVVYTb5TYdSzthL8p2Zt8vx8U
            pPjFPyusxqMU0ahQlkvCh56AMhK67I8FRs1YYkX0RR7JmYZhsXi/4Wh0on2Ot1sM
            nK1s3CnsGYJKLzQe7tqreoldzUt9TZW31moF/Uk+T8XvpcrnrNcMOHDImP+HJ1/S
            XgEoMKWOJyt7XrVZIkOL0yM30Mxo/+jItr4ElfebLuuA6YCiL+pI5QSt8T7mMd6Y
            J1iLTD6SSxbX9iAoLvng+9mI8IXn/Eju7dO64+GEwL3+nKWuYRE/3ggQmai65ow=
            =ccpD
            -----END PGP MESSAGE-----
          fp: 129994A38E40322EE2A4FA6CB59C51DA13B1BF22
    encrypted_regex: ^(host|hosts|ORDER_QUEUE_USERNAME|ORDER_QUEUE_PASSWORD|AZURE_OPENAI_DEPLOYMENT_NAME|AZURE_OPENAI_ENDPOINT|OPENAI_API_KEY)$
    version: 3.7.3
---
apiVersion: apps/v1
kind: Deployment
metadata:
    name: product-service
spec:
    replicas: 1
    selector:
        matchLabels:
            app: product-service
    template:
        metadata:
            labels:
                app: product-service
        spec:
            nodeSelector:
                kubernetes.io/os: linux
            containers:
                - name: product-service
                  image: ghcr.io/azure-samples/aks-store-demo/product-service:latest
                  ports:
                    - containerPort: 3002
                  resources:
                    requests:
                        cpu: 10m
                        memory: 64Mi
                    limits:
                        cpu: 20m
                        memory: 128Mi
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age: []
    lastmodified: "2023-09-28T04:51:29Z"
    mac: ENC[AES256_GCM,data:CCezamTGlOnXI0SHjjZ5z31cUGY2CTQMOejwx8U5nYtkL0i/RDhEltzFccsGGp+w3Ng25AjhHBCqxgHe92UGi0vXQlGvkyMSpP8UWMy8BRZLAYbvIPPEF1wDdEqc7HSSWmMB0Wn6ska88FIJdsyEjlzvlOEboeWOsEesrYG20KU=,iv:G5HkwMsAu3zd5pM1OS7DJihdh1IEn+TwDToa/VreAfo=,tag:qk1BIIKdouMydVAe6tlNbQ==,type:str]
    pgp:
        - created_at: "2023-09-28T04:51:27Z"
          enc: |
            -----BEGIN PGP MESSAGE-----

            hQIMA38T7Az157GMARAAkuM3eJ8fR5LF9Iv3w48f1Z6MNhXFFY3DSWyytmynVDDA
            lbBNo5hDAybXQB0Lp15cmXbQ5rqOAmwNRSkTxv+wrU6ow2Mwj3N7oaDja8t7zPbI
            1VLjAaiYPaMy2ynXL82xSTEjwpy/XQ0GW3uA40X5v80oBdA3hvoUz6Xv/TOToekh
            aXn52bg7Fs4C09w8NavksQR7kEacCa0cA+pXVJKpqvbD7hsj10+JcAqikcAC/ALx
            OcI4xfayhQ7KrgtEcT1UgMLx6wSxbYqGnOVpyo09f5E8rSAYTZnODDfGq/KT+qZa
            blu8I87xALIKbA3s4Y8pvHOIaHGAe0lG2OsF9dbOoR/K3rg+sjK5m1JtwgLOln5+
            XGFFpWq4rm5Fum3ZDbn0vntry7fcqaZuP4J8YPj8nvJeQFpHVLXMqsY8w6FtS/kM
            O2K12BkEqbW4KM8pnySQ7bbY20k3EvrpemDcQi1YAK3cO5DQ/GZLLjq7IR02Dtkd
            OCOQcCQV23mAco3S+P8w7oV0Idho2yRcFQ0Mo90eVVYTb5TYdSzthL8p2Zt8vx8U
            pPjFPyusxqMU0ahQlkvCh56AMhK67I8FRs1YYkX0RR7JmYZhsXi/4Wh0on2Ot1sM
            nK1s3CnsGYJKLzQe7tqreoldzUt9TZW31moF/Uk+T8XvpcrnrNcMOHDImP+HJ1/S
            XgEoMKWOJyt7XrVZIkOL0yM30Mxo/+jItr4ElfebLuuA6YCiL+pI5QSt8T7mMd6Y
            J1iLTD6SSxbX9iAoLvng+9mI8IXn/Eju7dO64+GEwL3+nKWuYRE/3ggQmai65ow=
            =ccpD
            -----END PGP MESSAGE-----
          fp: 129994A38E40322EE2A4FA6CB59C51DA13B1BF22
    encrypted_regex: ^(host|hosts|ORDER_QUEUE_USERNAME|ORDER_QUEUE_PASSWORD|AZURE_OPENAI_DEPLOYMENT_NAME|AZURE_OPENAI_ENDPOINT|OPENAI_API_KEY)$
    version: 3.7.3
---
apiVersion: apps/v1
kind: Deployment
metadata:
    name: store-front
spec:
    replicas: 1
    selector:
        matchLabels:
            app: store-front
    template:
        metadata:
            labels:
                app: store-front
        spec:
            nodeSelector:
                kubernetes.io/os: linux
            containers:
                - name: store-front
                  image: ghcr.io/azure-samples/aks-store-demo/store-front:latest
                  ports:
                    - containerPort: 8080
                      name: store-front
                  env:
                    - name: VUE_APP_ORDER_SERVICE_URL
                      value: http://order-service:3000/
                    - name: VUE_APP_PRODUCT_SERVICE_URL
                      value: http://product-service:3002/
                  resources:
                    requests:
                        cpu: 10m
                        memory: 64Mi
                    limits:
                        cpu: 20m
                        memory: 128Mi
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age: []
    lastmodified: "2023-09-28T04:51:29Z"
    mac: ENC[AES256_GCM,data:CCezamTGlOnXI0SHjjZ5z31cUGY2CTQMOejwx8U5nYtkL0i/RDhEltzFccsGGp+w3Ng25AjhHBCqxgHe92UGi0vXQlGvkyMSpP8UWMy8BRZLAYbvIPPEF1wDdEqc7HSSWmMB0Wn6ska88FIJdsyEjlzvlOEboeWOsEesrYG20KU=,iv:G5HkwMsAu3zd5pM1OS7DJihdh1IEn+TwDToa/VreAfo=,tag:qk1BIIKdouMydVAe6tlNbQ==,type:str]
    pgp:
        - created_at: "2023-09-28T04:51:27Z"
          enc: |
            -----BEGIN PGP MESSAGE-----

            hQIMA38T7Az157GMARAAkuM3eJ8fR5LF9Iv3w48f1Z6MNhXFFY3DSWyytmynVDDA
            lbBNo5hDAybXQB0Lp15cmXbQ5rqOAmwNRSkTxv+wrU6ow2Mwj3N7oaDja8t7zPbI
            1VLjAaiYPaMy2ynXL82xSTEjwpy/XQ0GW3uA40X5v80oBdA3hvoUz6Xv/TOToekh
            aXn52bg7Fs4C09w8NavksQR7kEacCa0cA+pXVJKpqvbD7hsj10+JcAqikcAC/ALx
            OcI4xfayhQ7KrgtEcT1UgMLx6wSxbYqGnOVpyo09f5E8rSAYTZnODDfGq/KT+qZa
            blu8I87xALIKbA3s4Y8pvHOIaHGAe0lG2OsF9dbOoR/K3rg+sjK5m1JtwgLOln5+
            XGFFpWq4rm5Fum3ZDbn0vntry7fcqaZuP4J8YPj8nvJeQFpHVLXMqsY8w6FtS/kM
            O2K12BkEqbW4KM8pnySQ7bbY20k3EvrpemDcQi1YAK3cO5DQ/GZLLjq7IR02Dtkd
            OCOQcCQV23mAco3S+P8w7oV0Idho2yRcFQ0Mo90eVVYTb5TYdSzthL8p2Zt8vx8U
            pPjFPyusxqMU0ahQlkvCh56AMhK67I8FRs1YYkX0RR7JmYZhsXi/4Wh0on2Ot1sM
            nK1s3CnsGYJKLzQe7tqreoldzUt9TZW31moF/Uk+T8XvpcrnrNcMOHDImP+HJ1/S
            XgEoMKWOJyt7XrVZIkOL0yM30Mxo/+jItr4ElfebLuuA6YCiL+pI5QSt8T7mMd6Y
            J1iLTD6SSxbX9iAoLvng+9mI8IXn/Eju7dO64+GEwL3+nKWuYRE/3ggQmai65ow=
            =ccpD
            -----END PGP MESSAGE-----
          fp: 129994A38E40322EE2A4FA6CB59C51DA13B1BF22
    encrypted_regex: ^(host|hosts|ORDER_QUEUE_USERNAME|ORDER_QUEUE_PASSWORD|AZURE_OPENAI_DEPLOYMENT_NAME|AZURE_OPENAI_ENDPOINT|OPENAI_API_KEY)$
    version: 3.7.3
---
apiVersion: apps/v1
kind: Deployment
metadata:
    name: store-admin
spec:
    replicas: 1
    selector:
        matchLabels:
            app: store-admin
    template:
        metadata:
            labels:
                app: store-admin
        spec:
            nodeSelector:
                kubernetes.io/os: linux
            containers:
                - name: store-admin
                  image: ghcr.io/azure-samples/aks-store-demo/store-admin:latest
                  ports:
                    - containerPort: 8081
                      name: store-admin
                  env:
                    - name: VUE_APP_PRODUCT_SERVICE_URL
                      value: http://product-service:3002/
                    - name: VUE_APP_MAKELINE_SERVICE_URL
                      value: http://makeline-service:3001/
                    - name: VUE_APP_AI_SERVICE_URL
                      value: http://ai-service:5001/
                  resources:
                    requests:
                        cpu: 10m
                        memory: 64Mi
                    limits:
                        cpu: 50m
                        memory: 128Mi
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age: []
    lastmodified: "2023-09-28T04:51:29Z"
    mac: ENC[AES256_GCM,data:CCezamTGlOnXI0SHjjZ5z31cUGY2CTQMOejwx8U5nYtkL0i/RDhEltzFccsGGp+w3Ng25AjhHBCqxgHe92UGi0vXQlGvkyMSpP8UWMy8BRZLAYbvIPPEF1wDdEqc7HSSWmMB0Wn6ska88FIJdsyEjlzvlOEboeWOsEesrYG20KU=,iv:G5HkwMsAu3zd5pM1OS7DJihdh1IEn+TwDToa/VreAfo=,tag:qk1BIIKdouMydVAe6tlNbQ==,type:str]
    pgp:
        - created_at: "2023-09-28T04:51:27Z"
          enc: |
            -----BEGIN PGP MESSAGE-----

            hQIMA38T7Az157GMARAAkuM3eJ8fR5LF9Iv3w48f1Z6MNhXFFY3DSWyytmynVDDA
            lbBNo5hDAybXQB0Lp15cmXbQ5rqOAmwNRSkTxv+wrU6ow2Mwj3N7oaDja8t7zPbI
            1VLjAaiYPaMy2ynXL82xSTEjwpy/XQ0GW3uA40X5v80oBdA3hvoUz6Xv/TOToekh
            aXn52bg7Fs4C09w8NavksQR7kEacCa0cA+pXVJKpqvbD7hsj10+JcAqikcAC/ALx
            OcI4xfayhQ7KrgtEcT1UgMLx6wSxbYqGnOVpyo09f5E8rSAYTZnODDfGq/KT+qZa
            blu8I87xALIKbA3s4Y8pvHOIaHGAe0lG2OsF9dbOoR/K3rg+sjK5m1JtwgLOln5+
            XGFFpWq4rm5Fum3ZDbn0vntry7fcqaZuP4J8YPj8nvJeQFpHVLXMqsY8w6FtS/kM
            O2K12BkEqbW4KM8pnySQ7bbY20k3EvrpemDcQi1YAK3cO5DQ/GZLLjq7IR02Dtkd
            OCOQcCQV23mAco3S+P8w7oV0Idho2yRcFQ0Mo90eVVYTb5TYdSzthL8p2Zt8vx8U
            pPjFPyusxqMU0ahQlkvCh56AMhK67I8FRs1YYkX0RR7JmYZhsXi/4Wh0on2Ot1sM
            nK1s3CnsGYJKLzQe7tqreoldzUt9TZW31moF/Uk+T8XvpcrnrNcMOHDImP+HJ1/S
            XgEoMKWOJyt7XrVZIkOL0yM30Mxo/+jItr4ElfebLuuA6YCiL+pI5QSt8T7mMd6Y
            J1iLTD6SSxbX9iAoLvng+9mI8IXn/Eju7dO64+GEwL3+nKWuYRE/3ggQmai65ow=
            =ccpD
            -----END PGP MESSAGE-----
          fp: 129994A38E40322EE2A4FA6CB59C51DA13B1BF22
    encrypted_regex: ^(host|hosts|ORDER_QUEUE_USERNAME|ORDER_QUEUE_PASSWORD|AZURE_OPENAI_DEPLOYMENT_NAME|AZURE_OPENAI_ENDPOINT|OPENAI_API_KEY)$
    version: 3.7.3
---
apiVersion: apps/v1
kind: Deployment
metadata:
    name: virtual-customer
spec:
    replicas: 1
    selector:
        matchLabels:
            app: virtual-customer
    template:
        metadata:
            labels:
                app: virtual-customer
        spec:
            nodeSelector:
                kubernetes.io/os: linux
            containers:
                - name: virtual-customer
                  image: ghcr.io/azure-samples/aks-store-demo/virtual-customer:latest
                  env:
                    - name: ORDER_SERVICE_URL
                      value: http://order-service:3000/
                    - name: ORDERS_PER_HOUR
                      value: "100"
                  resources:
                    requests:
                        cpu: 10m
                        memory: 64Mi
                    limits:
                        cpu: 20m
                        memory: 128Mi
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age: []
    lastmodified: "2023-09-28T04:51:29Z"
    mac: ENC[AES256_GCM,data:CCezamTGlOnXI0SHjjZ5z31cUGY2CTQMOejwx8U5nYtkL0i/RDhEltzFccsGGp+w3Ng25AjhHBCqxgHe92UGi0vXQlGvkyMSpP8UWMy8BRZLAYbvIPPEF1wDdEqc7HSSWmMB0Wn6ska88FIJdsyEjlzvlOEboeWOsEesrYG20KU=,iv:G5HkwMsAu3zd5pM1OS7DJihdh1IEn+TwDToa/VreAfo=,tag:qk1BIIKdouMydVAe6tlNbQ==,type:str]
    pgp:
        - created_at: "2023-09-28T04:51:27Z"
          enc: |
            -----BEGIN PGP MESSAGE-----

            hQIMA38T7Az157GMARAAkuM3eJ8fR5LF9Iv3w48f1Z6MNhXFFY3DSWyytmynVDDA
            lbBNo5hDAybXQB0Lp15cmXbQ5rqOAmwNRSkTxv+wrU6ow2Mwj3N7oaDja8t7zPbI
            1VLjAaiYPaMy2ynXL82xSTEjwpy/XQ0GW3uA40X5v80oBdA3hvoUz6Xv/TOToekh
            aXn52bg7Fs4C09w8NavksQR7kEacCa0cA+pXVJKpqvbD7hsj10+JcAqikcAC/ALx
            OcI4xfayhQ7KrgtEcT1UgMLx6wSxbYqGnOVpyo09f5E8rSAYTZnODDfGq/KT+qZa
            blu8I87xALIKbA3s4Y8pvHOIaHGAe0lG2OsF9dbOoR/K3rg+sjK5m1JtwgLOln5+
            XGFFpWq4rm5Fum3ZDbn0vntry7fcqaZuP4J8YPj8nvJeQFpHVLXMqsY8w6FtS/kM
            O2K12BkEqbW4KM8pnySQ7bbY20k3EvrpemDcQi1YAK3cO5DQ/GZLLjq7IR02Dtkd
            OCOQcCQV23mAco3S+P8w7oV0Idho2yRcFQ0Mo90eVVYTb5TYdSzthL8p2Zt8vx8U
            pPjFPyusxqMU0ahQlkvCh56AMhK67I8FRs1YYkX0RR7JmYZhsXi/4Wh0on2Ot1sM
            nK1s3CnsGYJKLzQe7tqreoldzUt9TZW31moF/Uk+T8XvpcrnrNcMOHDImP+HJ1/S
            XgEoMKWOJyt7XrVZIkOL0yM30Mxo/+jItr4ElfebLuuA6YCiL+pI5QSt8T7mMd6Y
            J1iLTD6SSxbX9iAoLvng+9mI8IXn/Eju7dO64+GEwL3+nKWuYRE/3ggQmai65ow=
            =ccpD
            -----END PGP MESSAGE-----
          fp: 129994A38E40322EE2A4FA6CB59C51DA13B1BF22
    encrypted_regex: ^(host|hosts|ORDER_QUEUE_USERNAME|ORDER_QUEUE_PASSWORD|AZURE_OPENAI_DEPLOYMENT_NAME|AZURE_OPENAI_ENDPOINT|OPENAI_API_KEY)$
    version: 3.7.3
---
apiVersion: apps/v1
kind: Deployment
metadata:
    name: virtual-worker
spec:
    replicas: 1
    selector:
        matchLabels:
            app: virtual-worker
    template:
        metadata:
            labels:
                app: virtual-worker
        spec:
            nodeSelector:
                kubernetes.io/os: linux
            containers:
                - name: virtual-worker
                  image: ghcr.io/azure-samples/aks-store-demo/virtual-worker:latest
                  env:
                    - name: MAKELINE_SERVICE_URL
                      value: http://makeline-service:3001
                    - name: ORDERS_PER_HOUR
                      value: "100"
                  resources:
                    requests:
                        cpu: 10m
                        memory: 64Mi
                    limits:
                        cpu: 20m
                        memory: 128Mi
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age: []
    lastmodified: "2023-09-28T04:51:29Z"
    mac: ENC[AES256_GCM,data:CCezamTGlOnXI0SHjjZ5z31cUGY2CTQMOejwx8U5nYtkL0i/RDhEltzFccsGGp+w3Ng25AjhHBCqxgHe92UGi0vXQlGvkyMSpP8UWMy8BRZLAYbvIPPEF1wDdEqc7HSSWmMB0Wn6ska88FIJdsyEjlzvlOEboeWOsEesrYG20KU=,iv:G5HkwMsAu3zd5pM1OS7DJihdh1IEn+TwDToa/VreAfo=,tag:qk1BIIKdouMydVAe6tlNbQ==,type:str]
    pgp:
        - created_at: "2023-09-28T04:51:27Z"
          enc: |
            -----BEGIN PGP MESSAGE-----

            hQIMA38T7Az157GMARAAkuM3eJ8fR5LF9Iv3w48f1Z6MNhXFFY3DSWyytmynVDDA
            lbBNo5hDAybXQB0Lp15cmXbQ5rqOAmwNRSkTxv+wrU6ow2Mwj3N7oaDja8t7zPbI
            1VLjAaiYPaMy2ynXL82xSTEjwpy/XQ0GW3uA40X5v80oBdA3hvoUz6Xv/TOToekh
            aXn52bg7Fs4C09w8NavksQR7kEacCa0cA+pXVJKpqvbD7hsj10+JcAqikcAC/ALx
            OcI4xfayhQ7KrgtEcT1UgMLx6wSxbYqGnOVpyo09f5E8rSAYTZnODDfGq/KT+qZa
            blu8I87xALIKbA3s4Y8pvHOIaHGAe0lG2OsF9dbOoR/K3rg+sjK5m1JtwgLOln5+
            XGFFpWq4rm5Fum3ZDbn0vntry7fcqaZuP4J8YPj8nvJeQFpHVLXMqsY8w6FtS/kM
            O2K12BkEqbW4KM8pnySQ7bbY20k3EvrpemDcQi1YAK3cO5DQ/GZLLjq7IR02Dtkd
            OCOQcCQV23mAco3S+P8w7oV0Idho2yRcFQ0Mo90eVVYTb5TYdSzthL8p2Zt8vx8U
            pPjFPyusxqMU0ahQlkvCh56AMhK67I8FRs1YYkX0RR7JmYZhsXi/4Wh0on2Ot1sM
            nK1s3CnsGYJKLzQe7tqreoldzUt9TZW31moF/Uk+T8XvpcrnrNcMOHDImP+HJ1/S
            XgEoMKWOJyt7XrVZIkOL0yM30Mxo/+jItr4ElfebLuuA6YCiL+pI5QSt8T7mMd6Y
            J1iLTD6SSxbX9iAoLvng+9mI8IXn/Eju7dO64+GEwL3+nKWuYRE/3ggQmai65ow=
            =ccpD
            -----END PGP MESSAGE-----
          fp: 129994A38E40322EE2A4FA6CB59C51DA13B1BF22
    encrypted_regex: ^(host|hosts|ORDER_QUEUE_USERNAME|ORDER_QUEUE_PASSWORD|AZURE_OPENAI_DEPLOYMENT_NAME|AZURE_OPENAI_ENDPOINT|OPENAI_API_KEY)$
    version: 3.7.3
---
apiVersion: apps/v1
kind: Deployment
metadata:
    name: ai-service
spec:
    replicas: 1
    selector:
        matchLabels:
            app: ai-service
    template:
        metadata:
            labels:
                app: ai-service
        spec:
            nodeSelector:
                kubernetes.io/os: linux
            containers:
                - name: order-service
                  image: ghcr.io/azure-samples/aks-store-demo/ai-service:latest
                  ports:
                    - containerPort: 5001
                  env:
                    # set to True for Azure OpenAI, False for Public OpenAI
                    - name: USE_AZURE_OPENAI
                      value: true
                    # required if using Azure OpenAI
                    - name: AZURE_OPENAI_DEPLOYMENT_NAME
                      value: gpt-35-turbo
                    # required if using Azure OpenAI
                    - name: AZURE_OPENAI_ENDPOINT
                      value: https://openaije.openai.azure.com/
                    # always required
                    - name: OPENAI_API_KEY
                      value: 0f8ef3f41d8845aca7a1e9d6df77ebd1
                    # required if using Public OpenAI
                    - name: OPENAI_ORG_ID
                      value: ""
                  resources:
                    requests:
                        cpu: 20m
                        memory: 50Mi
                    limits:
                        cpu: 30m
                        memory: 65Mi
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age: []
    lastmodified: "2023-09-28T04:51:29Z"
    mac: ENC[AES256_GCM,data:CCezamTGlOnXI0SHjjZ5z31cUGY2CTQMOejwx8U5nYtkL0i/RDhEltzFccsGGp+w3Ng25AjhHBCqxgHe92UGi0vXQlGvkyMSpP8UWMy8BRZLAYbvIPPEF1wDdEqc7HSSWmMB0Wn6ska88FIJdsyEjlzvlOEboeWOsEesrYG20KU=,iv:G5HkwMsAu3zd5pM1OS7DJihdh1IEn+TwDToa/VreAfo=,tag:qk1BIIKdouMydVAe6tlNbQ==,type:str]
    pgp:
        - created_at: "2023-09-28T04:51:27Z"
          enc: |
            -----BEGIN PGP MESSAGE-----

            hQIMA38T7Az157GMARAAkuM3eJ8fR5LF9Iv3w48f1Z6MNhXFFY3DSWyytmynVDDA
            lbBNo5hDAybXQB0Lp15cmXbQ5rqOAmwNRSkTxv+wrU6ow2Mwj3N7oaDja8t7zPbI
            1VLjAaiYPaMy2ynXL82xSTEjwpy/XQ0GW3uA40X5v80oBdA3hvoUz6Xv/TOToekh
            aXn52bg7Fs4C09w8NavksQR7kEacCa0cA+pXVJKpqvbD7hsj10+JcAqikcAC/ALx
            OcI4xfayhQ7KrgtEcT1UgMLx6wSxbYqGnOVpyo09f5E8rSAYTZnODDfGq/KT+qZa
            blu8I87xALIKbA3s4Y8pvHOIaHGAe0lG2OsF9dbOoR/K3rg+sjK5m1JtwgLOln5+
            XGFFpWq4rm5Fum3ZDbn0vntry7fcqaZuP4J8YPj8nvJeQFpHVLXMqsY8w6FtS/kM
            O2K12BkEqbW4KM8pnySQ7bbY20k3EvrpemDcQi1YAK3cO5DQ/GZLLjq7IR02Dtkd
            OCOQcCQV23mAco3S+P8w7oV0Idho2yRcFQ0Mo90eVVYTb5TYdSzthL8p2Zt8vx8U
            pPjFPyusxqMU0ahQlkvCh56AMhK67I8FRs1YYkX0RR7JmYZhsXi/4Wh0on2Ot1sM
            nK1s3CnsGYJKLzQe7tqreoldzUt9TZW31moF/Uk+T8XvpcrnrNcMOHDImP+HJ1/S
            XgEoMKWOJyt7XrVZIkOL0yM30Mxo/+jItr4ElfebLuuA6YCiL+pI5QSt8T7mMd6Y
            J1iLTD6SSxbX9iAoLvng+9mI8IXn/Eju7dO64+GEwL3+nKWuYRE/3ggQmai65ow=
            =ccpD
            -----END PGP MESSAGE-----
          fp: 129994A38E40322EE2A4FA6CB59C51DA13B1BF22
    encrypted_regex: ^(host|hosts|ORDER_QUEUE_USERNAME|ORDER_QUEUE_PASSWORD|AZURE_OPENAI_DEPLOYMENT_NAME|AZURE_OPENAI_ENDPOINT|OPENAI_API_KEY)$
    version: 3.7.3
